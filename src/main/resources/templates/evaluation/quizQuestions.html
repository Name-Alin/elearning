<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <title>User CRUD</title>

    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">

    <link rel="stylesheet" th:href="@{/styles/navbar.css}">
</head>
<body>
<div>
    <h1>Quiz Questions</h1>
    <a href="/">IndexPage</a>
    <div th:replace="navbar.html :: navbar"></div>

    <form action="#" th:action="@{/question/createOrSave}" th:object="${questionDto}" method="post">

        <fieldset>
            <input type="submit" id="submitButton" th:value="Save">
            <input type="reset" id="resetButton" name="reset" th:value="Reset"/>
            <br>
            <label for="question">Question text</label>
            <br>
            <input type="text" id="question" th:field="*{content}">
            <br>
            <label for="answer1">Answer Options</label>
            <br>
            <input type="text" id="answer1" th:each="answer, itemStat : *{answers}"
                   th:field="*{answers[__${itemStat.index}__].content}">
            <br>
            <input type="checkbox" id="correct1" th:each="answer, itemStat : *{answers}"
                   th:field="*{answers[__${itemStat.index}__].correct}">

        </fieldset>
    </form>

    <div class="table-responsive">
        <table id="usersTable" class="table table-bordered table-striped">
            <thead class="thead-dark">
            <tr>
                <th><b>Question Id</b></th>
                <th><b>Question Content</b></th>
                <th><b>Delete Questions</b></th>
                <th><b>Update Questions</b></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="question, itemStat : ${quizQuestions}">
                <td th:text="${question.id}"></td>
                <td th:text="${question.content}"></td>
                <!--            <td th:text="${question.answers[__${itemStat.index}__].content}"></td>-->

                <!--            <input type="text" id="question" th:each="question, itemStat : *{questions}"-->
                <!--                   th:field="*{questions[__${itemStat.index}__].content}" >-->

                <td><a href="#" th:href="@{'/question/delete/' + ${question.id} }">Delete question</a></td>
                <td><a href="#" th:href="@{'/question/show/' + ${question.id} }">Update Questions</a></td>
            </tr>
            </tbody>
        </table>
    </div>
    </div>

</body>

</html>